@{
    ViewData["Title"] = "Home";
}

@model NIDashboard.Models.Home.HomeIndexModel

@if (Model.LatestPosts.Any())
{
    <div class="row">
        <div class="col">
            <form asp-controller="Search" asp-action="Search" method="post" class="row">
                <div class="input-group">
                    <input asp-for="SearchQuery" type="text" placeholder="Search..." class="form-control" />
                    <div class="input-group-append col-auto">
                        <button type="submit" class="btn btn-outline-primary">
                            <i class="fas fa-search"></i> Search
                        </button>
                    </div>
                    <div class="form-check form-check-inline">
                        <input asp-for="SearchTag" class="form-check-input" type="checkbox">
                        <label class="form-check-label">Tag</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input asp-for="SearchContent" class="form-check-input" type="checkbox">
                        <label class="form-check-label">Content</label>
                    </div>
                </div>
            </form>
            <br />
        </div>
    </div>
    <div class="row">
        <h1>
            Latest Announcements
        </h1>
    </div>
    <div class="row">
        <table class="table table-hover table-borderless" id="latestPostsTable">
            <tbody>
                @foreach (var post in Model.LatestPosts)
                {
                    <tr>
                        <td class="postContainer">
                            <div class="row">
                                <div class="col-auto postTitle">
                                    <a class="text-decoration-none" asp-controller="Post" asp-action="Index" asp-route-id=@post.Id>
                                        @post.Title
                                    </a>
                                </div>
                                <a class="align-self-center" text-decoration-none" asp-controller="Section" asp-action="Topic" asp-route-id="@post.Section.Id">
                                    <div class="badge badge-pill badge-primary col-auto">
                                        @post.Section.Title
                                    </div>
                                </a>
                            </div>
                            <div class="row">
                                <div class=" col-auto postSubTitle">
                                    Posted by @post.AuthorName @post.DatePosted
                                </div>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div>
        <h3>
            It's empty here.
        </h3>
        <h4>
            I think someone ate all your posts.
        </h4>
    </div>
}
